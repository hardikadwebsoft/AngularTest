<h1>Book List</h1>

<p>List of books with different geners.</p>

<p *ngIf="!books"><em>Loading...</em></p>

<div *ngIf="!isEdit">
    <table class="table" *ngIf="books">
        <thead>
            <tr>
                <th>Name</th>
                <th>Authors</th>
                <th>Number Of Pages</th>
                <th>Date Of Publication</th>
                <th>Edit</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let book of books">
                <td>{{book.name}}</td>
                <td>{{book.authors}}</td>
                <td>{{book.numOfPages}}</td>
                <td>{{book.dateOfPublication}}</td>
                <td><input type="button" value="Edit" class="btn btn-default" (click)="editBook(book)" /></td>
            </tr>
        </tbody>
    </table>
    <my-pagination (goPage)="goToPage($event)"
                   (goNext)="onNext()"
                   (goPrev)="onPrev()"
                   [pagesToShow]="3"
                   [page]="page"
                   [perPage]="limit"
                   [count]="total"></my-pagination>
</div>


<div *ngIf="isEdit">
    <div class="container col-md-5" *ngIf="book">
        <div>
            <h1>Update Book details</h1>
            <form (ngSubmit)="onSubmit()" #bookForm="ngForm">
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name"
                           required
                           [(ngModel)]="book.name" name="name"
                           #name="ngModel">
                    <!--<div [hidden]="name.valid || name.pristine"
                         class="alert alert-danger">
                        Name is required
                    </div>-->
                </div>
                <div class="form-group">
                    <label for="authors">Authors</label>
                    <input type="text" class="form-control" id="authors"
                           required
                           [(ngModel)]="book.authors" name="authors"
                           #name="ngModel">
                    <!--<div [hidden]="authors.valid || authors.pristine"
                         class="alert alert-danger">
                        Please enter Author Name
                    </div>-->
                </div>
                <div class="form-group">
                    <label for="numOfPages">NumOfPages</label>
                    <input type="text" class="form-control" id="numOfPages"
                           required
                           [(ngModel)]="book.numOfPages" name="numOfPages"
                           #name="ngModel">
                    <!--<div [hidden]="numOfPages.valid || numOfPages.pristine"
                         class="alert alert-danger">
                        Please enter number of pages
                    </div>-->
                </div>
                <div class="form-group">
                    <label for="dateOfPublication">Date Of Publication</label>
                    <input type="text" class="form-control" id="dateOfPublication"
                           required
                           [(ngModel)]="book.dateOfPublication" name="dateOfPublication"
                           #name="ngModel">
                    <!--<div [hidden]="dateOfPublication.valid || dateOfPublication.pristine"
                         class="alert alert-danger">
                        Please enter date of published
                    </div>-->
                </div>

                <button type="submit" class="btn btn-success" [disabled]="!book.form.valid">Save</button>
                <button type="button" class="btn btn-default" (click)="cancelEdit()">Cancel</button>
            </form>
        </div>
    </div>
</div>